<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="MyBookstore - Votre librairie en ligne pour d√©couvrir des milliers de livres passionnants">
        <title>{% block title %}MyBookstore - Votre Librairie en Ligne{% endblock %}</title>

        {# Favicon #}
        <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 128 128%22><text y=%221.2em%22 font-size=%2296%22>üìö</text></svg>">

        {# Google Fonts - Inter & Playfair Display #}
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">

        {# Bootstrap 5 #}
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

        {# Font Awesome 6 #}
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

        {% block stylesheets %}
        {% endblock %}

        {% block javascripts %}
            {% block importmap %}{{ importmap('app') }}{% endblock %}
        {% endblock %}
    </head>
    <body>
        {# Navigation #}
        {% include 'partials/_navbar.html.twig' %}

        {# Flash Messages #}
        {% set flashes = app.flashes %}
        {% if flashes|length > 0 %}
        <div class="container-fluid px-4 mt-3">
            {% for type, messages in flashes %}
                {% set alertClass = 'alert-info' %}
                {% set iconClass = 'fa-circle-info' %}
                {% if type == 'success' %}
                    {% set alertClass = 'alert-success' %}
                    {% set iconClass = 'fa-circle-check' %}
                {% elseif type == 'error' %}
                    {% set alertClass = 'alert-danger' %}
                    {% set iconClass = 'fa-circle-exclamation' %}
                {% elseif type == 'warning' %}
                    {% set alertClass = 'alert-warning' %}
                    {% set iconClass = 'fa-triangle-exclamation' %}
                {% endif %}

                {% for message in messages %}
                    <div class="alert {{ alertClass }} alert-dismissible fade show animate-fadeInUp" role="alert">
                        <i class="fas {{ iconClass }} me-2"></i>
                        {{ message }}
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Fermer"></button>
                    </div>
                {% endfor %}
            {% endfor %}
        </div>
        {% endif %}

        {# Main Content #}
        <main>
            {% block content %}{% endblock %}
        </main>

        {# Footer #}
        <footer class="footer">
            <div class="container">
                <div class="row">
                    {# Brand Column #}
                    <div class="col-lg-4 col-md-6 mb-5 mb-lg-0">
                        <div class="footer-brand d-flex align-items-center gap-2 mb-3">
                            <i class="fas fa-book-open" style="color: #fbbf24;"></i>
                            <span>MyBookstore</span>
                        </div>
                        <p class="footer-description">
                            Votre librairie en ligne pour d√©couvrir des milliers de livres passionnants.
                            Trouvez votre prochaine lecture parmi notre vaste s√©lection de romans,
                            sciences, histoire et bien plus encore.
                        </p>
                        <div class="d-flex gap-3">
                            <a href="#" class="text-white opacity-75 fs-5"><i class="fab fa-facebook-f"></i></a>
                            <a href="#" class="text-white opacity-75 fs-5"><i class="fab fa-twitter"></i></a>
                            <a href="#" class="text-white opacity-75 fs-5"><i class="fab fa-instagram"></i></a>
                            <a href="#" class="text-white opacity-75 fs-5"><i class="fab fa-linkedin-in"></i></a>
                        </div>
                    </div>

                    {# Quick Links #}
                    <div class="col-lg-2 col-md-6 mb-5 mb-lg-0">
                        <h6 class="footer-title">Navigation</h6>
                        <ul class="footer-links">
                            <li><a href="{{ path('app_home') }}"><i class="fas fa-chevron-right me-2 small"></i>Accueil</a></li>
                            <li><a href="{{ path('app_catalogue') }}"><i class="fas fa-chevron-right me-2 small"></i>Catalogue</a></li>
                            {% if app.user %}
                                <li><a href="{{ path('app_profile') }}"><i class="fas fa-chevron-right me-2 small"></i>Mon Profil</a></li>
                                <li><a href="{{ path('app_cart') }}"><i class="fas fa-chevron-right me-2 small"></i>Mon Panier</a></li>
                            {% else %}
                                <li><a href="{{ path('app_login') }}"><i class="fas fa-chevron-right me-2 small"></i>Connexion</a></li>
                                <li><a href="{{ path('app_register') }}"><i class="fas fa-chevron-right me-2 small"></i>Inscription</a></li>
                            {% endif %}
                        </ul>
                    </div>

                    {# Services #}
                    <div class="col-lg-3 col-md-6 mb-5 mb-lg-0">
                        <h6 class="footer-title">Nos Services</h6>
                        <ul class="footer-links">
                            <li><a href="#"><i class="fas fa-chevron-right me-2 small"></i>Livraison Express</a></li>
                            <li><a href="#"><i class="fas fa-chevron-right me-2 small"></i>Click & Collect</a></li>
                            <li><a href="#"><i class="fas fa-chevron-right me-2 small"></i>Carte Cadeau</a></li>
                            <li><a href="#"><i class="fas fa-chevron-right me-2 small"></i>Programme Fid√©lit√©</a></li>
                        </ul>
                    </div>

                    {# Contact #}
                    <div class="col-lg-3 col-md-6">
                        <h6 class="footer-title">Contact</h6>
                        <div class="footer-contact">
                            <p>
                                <i class="fas fa-map-marker-alt" style="color: #fbbf24;"></i>
                                123 Rue des Livres, 75001 Paris
                            </p>
                            <p>
                                <i class="fas fa-phone" style="color: #fbbf24;"></i>
                                +33 1 23 45 67 89
                            </p>
                            <p>
                                <i class="fas fa-envelope" style="color: #fbbf24;"></i>
                                contact@mybookstore.com
                            </p>
                            <p>
                                <i class="fas fa-clock" style="color: #fbbf24;"></i>
                                Lun-Sam: 9h - 19h
                            </p>
                        </div>
                    </div>
                </div>

                {# Footer Bottom #}
                <div class="footer-bottom">
                    <div class="row align-items-center">
                        <div class="col-md-6 text-center text-md-start">
                            <p>&copy; {{ "now"|date("Y") }} MyBookstore. Tous droits r√©serv√©s.</p>
                        </div>
                        <div class="col-md-6 text-center text-md-end mt-3 mt-md-0">
                            <div class="d-flex justify-content-center justify-content-md-end gap-4">
                                <a href="#" class="text-muted small">Mentions l√©gales</a>
                                <a href="#" class="text-muted small">CGV</a>
                                <a href="#" class="text-muted small">Confidentialit√©</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </footer>

        {# Bootstrap JS #}
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

        {# Custom Scripts #}
        {% block body_scripts %}{% endblock %}
    </body>
</html>
